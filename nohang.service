[Unit]
Description=Highly configurable out of memory preventer
After=sysinit.target
Documentation=man:nohang(1) https://github.com/hakavlad/nohang

[Service]
ExecStart=/usr/sbin/nohang
Slice=nohang.slice
Restart=always
ProtectSystem=strict
MemoryMax=100M
TasksMax=100
OOMScoreAdjust=-10
Nice=-20
IOSchedulingClass=1
IOSchedulingPriority=0
CPUSchedulingPolicy=fifo
CPUSchedulingPriority=99
CPUSchedulingResetOnFork=true

[Install]
WantedBy=multi-user.target
